{"version":3,"file":"PerfHUD-DBscdCnJ.js","sources":["../../node_modules/lucide-react/dist/esm/icons/grip-vertical.js","../../node_modules/lucide-react/dist/esm/icons/minimize-2.js","../../src/components/dev/PerfHUD.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }],\n  [\"circle\", { cx: \"9\", cy: \"5\", r: \"1\", key: \"hp0tcf\" }],\n  [\"circle\", { cx: \"9\", cy: \"19\", r: \"1\", key: \"fkjjf6\" }],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"15\", cy: \"5\", r: \"1\", key: \"19l28e\" }],\n  [\"circle\", { cx: \"15\", cy: \"19\", r: \"1\", key: \"f4zoj3\" }]\n];\nconst GripVertical = createLucideIcon(\"grip-vertical\", __iconNode);\n\nexport { __iconNode, GripVertical as default };\n//# sourceMappingURL=grip-vertical.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m14 10 7-7\", key: \"oa77jy\" }],\n  [\"path\", { d: \"M20 10h-6V4\", key: \"mjg0md\" }],\n  [\"path\", { d: \"m3 21 7-7\", key: \"tjx5ai\" }],\n  [\"path\", { d: \"M4 14h6v6\", key: \"rmj7iw\" }]\n];\nconst Minimize2 = createLucideIcon(\"minimize-2\", __iconNode);\n\nexport { __iconNode, Minimize2 as default };\n//# sourceMappingURL=minimize-2.js.map\n","/* eslint-disable i18next/no-literal-string */\n/* eslint-disable no-console */\n/* eslint-disable max-lines-per-function */\n/* eslint-disable max-lines */\nimport { Activity, GripVertical, Maximize2, Minimize2, X } from 'lucide-react';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { workerService } from '../../services/workerService';\n\ntype HudMode = 'full' | 'compact';\n\nexport const PerfHUD: React.FC = () => {\n    // UI State\n    const [isVisible, setIsVisible] = useState(() => {\n        // Hide by default in automated test environments\n        if (typeof navigator !== 'undefined' && navigator.webdriver) return false;\n\n        // Check persistence and force flag\n        const storedVisible = localStorage.getItem('nahan_perf_hud_visible');\n        const forced = localStorage.getItem('nahan_force_perf_hud') === 'true';\n\n        // Show if forced or previously visible\n        if (forced) return true;\n        if (storedVisible !== null) return storedVisible === 'true';\n\n        return false; // Default hide as requested\n    });\n\n    // Persist Visibility\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_visible', String(isVisible));\n    }, [isVisible]);\n\n    const [mode, setMode] = useState<HudMode>(() => {\n        const stored = localStorage.getItem('nahan_perf_hud_mode');\n        return (stored === 'compact' ? 'compact' : 'full');\n    });\n\n    // Position State\n    // We store the snapped side and the vertical Y position.\n    const [position, setPosition] = useState(() => {\n        const stored = localStorage.getItem('nahan_perf_hud_pos');\n        if (stored) {\n            try {\n                return JSON.parse(stored);\n            } catch { /* ignore */ }\n        }\n        return { y: 100, side: 'right' }; // Default\n    });\n\n    // Dragging State\n    const [isDragging, setIsDragging] = useState(false);\n\n    // Checkpoints for drag calculations\n    const dragStart = useRef({ x: 0, y: 0 }); // Mouse/Touch start position\n    const initialRect = useRef<DOMRect | null>(null); // Element rect at start\n    const dragRef = useRef<HTMLDivElement>(null);\n\n    // 1. Event Loop Lag\n    const [lag, setLag] = useState(0);\n    const lastLoopTime = useRef(Date.now());\n\n    // 2. FPS\n    const [fps, setFps] = useState(60);\n    const frames = useRef(0);\n    const lastFpsTime = useRef(Date.now());\n\n    // 3. Worker Stats\n    const [workerStats, setWorkerStats] = useState({\n        storageQueueLength: 0,\n        processingQueueLength: 0,\n        activeTasks: 0\n    });\n\n    // 4. Memory (Chrome only)\n    const [memory, setMemory] = useState(0);\n\n    // Persist Mode & Position\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_mode', mode);\n    }, [mode]);\n\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_pos', JSON.stringify(position));\n    }, [position]);\n\n    // --- Data Polling Effects (unchanged) ---\n    useEffect(() => {\n        if (!isVisible) return;\n        const interval = setInterval(() => {\n            const now = Date.now();\n            const delta = now - lastLoopTime.current;\n            const currentLag = Math.max(0, delta - 500);\n            setLag(currentLag);\n            lastLoopTime.current = now;\n        }, 500);\n        return () => clearInterval(interval);\n    }, [isVisible]);\n\n    useEffect(() => {\n        if (!isVisible) return;\n        const pollInterval = setInterval(() => {\n            try {\n                setWorkerStats(workerService.getQueueStats());\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const perf = performance as any;\n                if (perf.memory) {\n                    const used = perf.memory.usedJSHeapSize;\n                    setMemory(Math.round(used / 1024 / 1024));\n                }\n            } catch (e) {\n                console.error('PerfHUD Error:', e);\n            }\n        }, 500);\n        return () => clearInterval(pollInterval);\n    }, [isVisible]);\n\n    useEffect(() => {\n        if (!isVisible) return;\n        let frameId: number;\n        const loop = () => {\n            frames.current++;\n            const now = Date.now();\n            if (now - lastFpsTime.current >= 1000) {\n                setFps(frames.current);\n                frames.current = 0;\n                lastFpsTime.current = now;\n            }\n            frameId = requestAnimationFrame(loop);\n        };\n        frameId = requestAnimationFrame(loop);\n        return () => cancelAnimationFrame(frameId);\n    }, [isVisible]);\n\n    // --- Drag Logic with Clamping & Transform ---\n    const handleStart = (clientX: number, clientY: number) => {\n        if (!dragRef.current) return;\n\n        // Capture initial state\n        dragStart.current = { x: clientX, y: clientY };\n        initialRect.current = dragRef.current.getBoundingClientRect();\n\n        setIsDragging(true);\n    };\n\n    const handleMove = (clientX: number, clientY: number) => {\n        if (!isDragging || !dragRef.current || !initialRect.current) return;\n\n        const deltaX = clientX - dragStart.current.x;\n        const deltaY = clientY - dragStart.current.y;\n\n        // Visual feedback using Transform (avoids layout thrashing)\n        // We clamp the delta so the element doesn't leave the viewport\n        const rect = initialRect.current;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        // Calculate allowed movement range relative to start position\n        const minX = -rect.left + 5; // allow 5px margin\n        const maxX = windowWidth - rect.right - 5;\n        const minY = -rect.top + 5;\n        const maxY = windowHeight - rect.bottom - 5;\n\n        const clampedDeltaX = Math.max(minX, Math.min(maxX, deltaX));\n        const clampedDeltaY = Math.max(minY, Math.min(maxY, deltaY));\n\n        dragRef.current.style.transform = `translate3d(${clampedDeltaX}px, ${clampedDeltaY}px, 0)`;\n        // NOTE: We do NOT touch top/left/right styles here. React owns those.\n        // Transform sits on top visually.\n    };\n\n    const handleEnd = () => {\n        if (!isDragging || !dragRef.current || !initialRect.current) return;\n        setIsDragging(false);\n\n        // Get final visual position\n        // Since we used transform, we need to calculate where we ended up.\n        // We can use getBoundingClientRect() which accounts for the transform.\n        const finalRect = dragRef.current.getBoundingClientRect();\n        const screenWidth = window.innerWidth;\n        const screenHeight = window.innerHeight;\n        const centerX = finalRect.left + finalRect.width / 2;\n\n        // Reset Transform (so state updates can take over cleanly)\n        dragRef.current.style.transform = '';\n\n        // Determine Snap Side\n        const newSide = centerX < screenWidth / 2 ? 'left' : 'right';\n\n        // Determine Y position (clamped)\n        // Ensure it doesn't stick off top/bottom\n        let newY = finalRect.top;\n        newY = Math.max(10, Math.min(screenHeight - finalRect.height - 10, newY));\n\n        setPosition({ y: newY, side: newSide });\n    };\n\n    // Mouse Handlers\n    const onMouseDown = (e: React.MouseEvent) => {\n        handleStart(e.clientX, e.clientY);\n    };\n\n    // Touch Handlers\n    const onTouchStart = (e: React.TouchEvent) => {\n        handleStart(e.touches[0].clientX, e.touches[0].clientY);\n    };\n\n    // Global Listeners\n    useEffect(() => {\n        const onMouseMove = (e: MouseEvent) => handleMove(e.clientX, e.clientY);\n        const onMouseUp = () => isDragging && handleEnd();\n\n        const onTouchMove = (e: TouchEvent) => {\n            if(isDragging) e.preventDefault();\n            handleMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        const onTouchEnd = () => isDragging && handleEnd();\n\n        if (isDragging) {\n            window.addEventListener('mousemove', onMouseMove);\n            window.addEventListener('mouseup', onMouseUp);\n            window.addEventListener('touchmove', onTouchMove, { passive: false });\n            window.addEventListener('touchend', onTouchEnd);\n        }\n\n        return () => {\n            window.removeEventListener('mousemove', onMouseMove);\n            window.removeEventListener('mouseup', onMouseUp);\n            window.removeEventListener('touchmove', onTouchMove);\n            window.removeEventListener('touchend', onTouchEnd);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isDragging]);\n\n\n    const handleClose = () => {\n        localStorage.removeItem('nahan_force_perf_hud');\n        setIsVisible(false);\n    };\n\n    if (!isVisible) return null;\n\n    // Visual Thresholds\n    const isLagHigh = lag > 50;\n    const isMemoryHigh = memory > 250;\n    const isWorkerBusy = workerStats.activeTasks > 0 || workerStats.processingQueueLength > 0 || workerStats.storageQueueLength > 0;\n    const isHealthy = !isLagHigh && !isMemoryHigh;\n\n    const containerStyle: React.CSSProperties = {\n        position: 'fixed',\n         // When NOT dragging, we use the state position.\n         // When dragging, strict position remains, and transform moves it visually.\n        top: `${position.y}px`,\n        left: position.side === 'left' ? '0' : 'auto',\n        right: position.side === 'right' ? '0' : 'auto',\n\n        // Visuals\n        backgroundColor: isLagHigh ? 'rgba(80, 0, 0, 0.95)' : 'rgba(10, 10, 10, 0.90)',\n        color: '#e5e5e5',\n        padding: '12px',\n        fontSize: '11px',\n        fontFamily: 'Menlo, Monaco, Consolas, monospace',\n        zIndex: 9999,\n        minWidth: mode === 'compact' ? 'auto' : '220px',\n        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)',\n        border: '1px solid rgba(255, 255, 255, 0.1)',\n        backdropFilter: 'blur(12px)',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '8px',\n        // Important: During dragging, we disable transition so it follows mouse perfectly.\n        // After drag, we enable it for the snap effect.\n        transition: isDragging ? 'none' : 'all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)',\n\n        // Rounding logic for sides\n        borderTopRightRadius: position.side === 'left' ? '12px' : '0',\n        borderBottomRightRadius: position.side === 'left' ? '12px' : '0',\n        borderTopLeftRadius: position.side === 'right' ? '12px' : '0',\n        borderBottomLeftRadius: position.side === 'right' ? '12px' : '0',\n\n        // Prevent selection during drag\n        userSelect: 'none',\n        touchAction: 'none'\n    };\n\n    const headerStyle: React.CSSProperties = {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        borderBottom: mode === 'full' ? '1px solid rgba(255, 255, 255, 0.1)' : 'none',\n        paddingBottom: mode === 'full' ? '8px' : '0',\n        marginBottom: mode === 'full' ? '4px' : '0'\n    };\n\n    return (\n        <div\n            ref={dragRef}\n            data-testid={`perf-hud-${mode}`}\n            style={containerStyle}\n        >\n            {/* Header / Controls */}\n            <div style={headerStyle}>\n                {/* Drag Handle */}\n                <div\n                    onMouseDown={onMouseDown}\n                    onTouchStart={onTouchStart}\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '6px',\n                        cursor: isDragging ? 'grabbing' : 'grab',\n                        padding: '4px',\n                        flex: 1 // make header handle drag target\n                    }}\n                >\n                    <GripVertical size={14} color=\"#666\" />\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '6px', fontWeight: 'bold', color: '#fff' }}>\n                        <Activity size={14} className={isHealthy ? 'text-green-400' : 'text-red-400'} />\n                        {mode === 'full' && <span>PERF HUD</span>}\n                    </div>\n                </div>\n\n                <div style={{ display: 'flex', gap: '4px' }}>\n                    <button\n                        onClick={() => setMode(mode === 'full' ? 'compact' : 'full')}\n                        style={{ background: 'none', border: 'none', color: '#999', cursor: 'pointer', padding: '4px' }}\n                        title={mode === 'full' ? 'Compact' : 'Expand'}\n                    >\n                        {mode === 'full' ? <Minimize2 size={14} /> : <Maximize2 size={14} />}\n                    </button>\n                    <button\n                        onClick={handleClose}\n                        style={{ background: 'none', border: 'none', color: '#999', cursor: 'pointer', padding: '4px' }}\n                        title=\"Close\"\n                        data-testid=\"perf-hud-close\"\n                    >\n                        <X size={14} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Compact Mode Content */}\n            {mode === 'compact' && (\n                <div style={{ display: 'flex', gap: '12px', alignItems: 'center', fontSize: '12px', paddingLeft: '8px' }}>\n                    <div style={{ color: fps < 30 ? '#ef4444' : '#22c55e', fontWeight: 'bold' }}>\n                        {fps} FPS\n                    </div>\n                    <div style={{ color: isLagHigh ? '#ef4444' : '#22c55e' }}>\n                         Lag: {lag}ms\n                    </div>\n                </div>\n            )}\n\n            {/* Full Mode Content */}\n            {mode === 'full' && (\n                <>\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '4px 12px' }}>\n                        <div style={{ color: '#888' }}>FPS</div>\n                        <div style={{ color: fps < 30 ? '#ef4444' : '#22c55e', fontWeight: 'bold', textAlign: 'right' }}>\n                            {fps}\n                        </div>\n\n                        <div style={{ color: '#888' }}>Loop Lag</div>\n                        <div style={{ color: isLagHigh ? '#ef4444' : '#22c55e', textAlign: 'right' }}>\n                            {lag}ms\n                        </div>\n\n                        <div style={{ color: '#888' }}>JS Heap</div>\n                        <div style={{ color: isMemoryHigh ? '#ef4444' : '#22c55e', textAlign: 'right' }}>\n                            {memory > 0 ? `${memory} MB` : 'N/A'}\n                        </div>\n                    </div>\n\n                    <div style={{ marginTop: '4px', paddingTop: '8px', borderTop: '1px solid rgba(255, 255, 255, 0.1)' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '4px' }}>\n                            <span style={{ color: '#888' }}>WORKERS</span>\n                            <span style={{\n                                color: isWorkerBusy ? '#f59e0b' : '#22c55e',\n                                fontSize: '10px',\n                                padding: '2px 6px',\n                                borderRadius: '4px',\n                                background: isWorkerBusy ? 'rgba(245, 158, 11, 0.1)' : 'rgba(34, 197, 94, 0.1)'\n                            }}>\n                                {isWorkerBusy ? 'BUSY' : 'IDLE'}\n                            </span>\n                        </div>\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '4px 12px', fontSize: '10px' }}>\n                            <div style={{ color: '#666' }}>Active Tasks</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.activeTasks}</div>\n\n                            <div style={{ color: '#666' }}>Queue (Proc)</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.processingQueueLength}</div>\n\n                            <div style={{ color: '#666' }}>Queue (Stor)</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.storageQueueLength}</div>\n                        </div>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n"],"names":["__iconNode","GripVertical","createLucideIcon","Minimize2","PerfHUD","isVisible","setIsVisible","useState","storedVisible","useEffect","mode","setMode","position","setPosition","stored","isDragging","setIsDragging","dragStart","useRef","initialRect","dragRef","lag","setLag","lastLoopTime","fps","setFps","frames","lastFpsTime","workerStats","setWorkerStats","memory","setMemory","interval","now","delta","currentLag","pollInterval","workerService","perf","used","e","frameId","loop","handleStart","clientX","clientY","handleMove","deltaX","deltaY","rect","windowWidth","windowHeight","minX","maxX","minY","maxY","clampedDeltaX","clampedDeltaY","handleEnd","finalRect","screenWidth","screenHeight","centerX","newSide","newY","onMouseDown","onTouchStart","onMouseMove","onMouseUp","onTouchMove","onTouchEnd","handleClose","isLagHigh","isMemoryHigh","isWorkerBusy","isHealthy","containerStyle","headerStyle","jsxs","jsx","Activity","Maximize2","X","Fragment"],"mappings":"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","x_google_ignoreList":[0,1]}