{"version":3,"file":"PerfHUD-DEBqxA09.js","sources":["../../node_modules/lucide-react/dist/esm/icons/grip-vertical.js","../../node_modules/lucide-react/dist/esm/icons/minimize-2.js","../../src/components/dev/PerfHUD.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }],\n  [\"circle\", { cx: \"9\", cy: \"5\", r: \"1\", key: \"hp0tcf\" }],\n  [\"circle\", { cx: \"9\", cy: \"19\", r: \"1\", key: \"fkjjf6\" }],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"15\", cy: \"5\", r: \"1\", key: \"19l28e\" }],\n  [\"circle\", { cx: \"15\", cy: \"19\", r: \"1\", key: \"f4zoj3\" }]\n];\nconst GripVertical = createLucideIcon(\"grip-vertical\", __iconNode);\n\nexport { __iconNode, GripVertical as default };\n//# sourceMappingURL=grip-vertical.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m14 10 7-7\", key: \"oa77jy\" }],\n  [\"path\", { d: \"M20 10h-6V4\", key: \"mjg0md\" }],\n  [\"path\", { d: \"m3 21 7-7\", key: \"tjx5ai\" }],\n  [\"path\", { d: \"M4 14h6v6\", key: \"rmj7iw\" }]\n];\nconst Minimize2 = createLucideIcon(\"minimize-2\", __iconNode);\n\nexport { __iconNode, Minimize2 as default };\n//# sourceMappingURL=minimize-2.js.map\n","/* eslint-disable i18next/no-literal-string */\n/* eslint-disable no-console */\n/* eslint-disable max-lines-per-function */\n/* eslint-disable max-lines */\nimport { Activity, GripVertical, Maximize2, Minimize2, X } from 'lucide-react';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { workerService } from '../../services/workerService';\n\ntype HudMode = 'full' | 'compact';\n\nexport const PerfHUD: React.FC = () => {\n    // UI State\n    const [isVisible, setIsVisible] = useState(() => {\n        // Hide by default in automated test environments\n        if (typeof navigator !== 'undefined' && navigator.webdriver) return false;\n\n        // Check persistence and force flag\n        const storedVisible = localStorage.getItem('nahan_perf_hud_visible');\n        const forced = localStorage.getItem('nahan_force_perf_hud') === 'true';\n\n        // Show if forced or previously visible\n        if (forced) return true;\n        if (storedVisible !== null) return storedVisible === 'true';\n\n        return false; // Default hide as requested\n    });\n\n    // Persist Visibility\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_visible', String(isVisible));\n    }, [isVisible]);\n\n    const [mode, setMode] = useState<HudMode>(() => {\n        const stored = localStorage.getItem('nahan_perf_hud_mode');\n        return (stored === 'compact' ? 'compact' : 'full');\n    });\n\n    // Position State\n    // We store the snapped side and the vertical Y position.\n    const [position, setPosition] = useState(() => {\n        const stored = localStorage.getItem('nahan_perf_hud_pos');\n        if (stored) {\n            try {\n                return JSON.parse(stored);\n            } catch { /* ignore */ }\n        }\n        return { y: 100, side: 'right' }; // Default\n    });\n\n    // Dragging State\n    const [isDragging, setIsDragging] = useState(false);\n\n    // Checkpoints for drag calculations\n    const dragStart = useRef({ x: 0, y: 0 }); // Mouse/Touch start position\n    const initialRect = useRef<DOMRect | null>(null); // Element rect at start\n    const dragRef = useRef<HTMLDivElement>(null);\n\n    // 1. Event Loop Lag\n    const [lag, setLag] = useState(0);\n    const lastLoopTime = useRef(Date.now());\n\n    // 2. FPS\n    const [fps, setFps] = useState(60);\n    const frames = useRef(0);\n    const lastFpsTime = useRef(Date.now());\n\n    // 3. Worker Stats\n    const [workerStats, setWorkerStats] = useState({\n        storageQueueLength: 0,\n        processingQueueLength: 0,\n        activeTasks: 0\n    });\n\n    // 4. Memory (Chrome only)\n    const [memory, setMemory] = useState(0);\n\n    // Persist Mode & Position\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_mode', mode);\n    }, [mode]);\n\n    useEffect(() => {\n        localStorage.setItem('nahan_perf_hud_pos', JSON.stringify(position));\n    }, [position]);\n\n    // --- Data Polling Effects (unchanged) ---\n    useEffect(() => {\n        if (!isVisible) return;\n        const interval = setInterval(() => {\n            const now = Date.now();\n            const delta = now - lastLoopTime.current;\n            const currentLag = Math.max(0, delta - 500);\n            setLag(currentLag);\n            lastLoopTime.current = now;\n        }, 500);\n        return () => clearInterval(interval);\n    }, [isVisible]);\n\n    useEffect(() => {\n        if (!isVisible) return;\n        const pollInterval = setInterval(() => {\n            try {\n                setWorkerStats(workerService.getQueueStats());\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const perf = performance as any;\n                if (perf.memory) {\n                    const used = perf.memory.usedJSHeapSize;\n                    setMemory(Math.round(used / 1024 / 1024));\n                }\n            } catch (e) {\n                console.error('PerfHUD Error:', e);\n            }\n        }, 500);\n        return () => clearInterval(pollInterval);\n    }, [isVisible]);\n\n    useEffect(() => {\n        if (!isVisible) return;\n        let frameId: number;\n        const loop = () => {\n            frames.current++;\n            const now = Date.now();\n            if (now - lastFpsTime.current >= 1000) {\n                setFps(frames.current);\n                frames.current = 0;\n                lastFpsTime.current = now;\n            }\n            frameId = requestAnimationFrame(loop);\n        };\n        frameId = requestAnimationFrame(loop);\n        return () => cancelAnimationFrame(frameId);\n    }, [isVisible]);\n\n    // --- Drag Logic with Clamping & Transform ---\n    const handleStart = (clientX: number, clientY: number) => {\n        if (!dragRef.current) return;\n\n        // Capture initial state\n        dragStart.current = { x: clientX, y: clientY };\n        initialRect.current = dragRef.current.getBoundingClientRect();\n\n        setIsDragging(true);\n    };\n\n    const handleMove = (clientX: number, clientY: number) => {\n        if (!isDragging || !dragRef.current || !initialRect.current) return;\n\n        const deltaX = clientX - dragStart.current.x;\n        const deltaY = clientY - dragStart.current.y;\n\n        // Visual feedback using Transform (avoids layout thrashing)\n        // We clamp the delta so the element doesn't leave the viewport\n        const rect = initialRect.current;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        // Calculate allowed movement range relative to start position\n        const minX = -rect.left + 5; // allow 5px margin\n        const maxX = windowWidth - rect.right - 5;\n        const minY = -rect.top + 5;\n        const maxY = windowHeight - rect.bottom - 5;\n\n        const clampedDeltaX = Math.max(minX, Math.min(maxX, deltaX));\n        const clampedDeltaY = Math.max(minY, Math.min(maxY, deltaY));\n\n        dragRef.current.style.transform = `translate3d(${clampedDeltaX}px, ${clampedDeltaY}px, 0)`;\n        // NOTE: We do NOT touch top/left/right styles here. React owns those.\n        // Transform sits on top visually.\n    };\n\n    const handleEnd = () => {\n        if (!isDragging || !dragRef.current || !initialRect.current) return;\n        setIsDragging(false);\n\n        // Get final visual position\n        // Since we used transform, we need to calculate where we ended up.\n        // We can use getBoundingClientRect() which accounts for the transform.\n        const finalRect = dragRef.current.getBoundingClientRect();\n        const screenWidth = window.innerWidth;\n        const screenHeight = window.innerHeight;\n        const centerX = finalRect.left + finalRect.width / 2;\n\n        // Reset Transform (so state updates can take over cleanly)\n        dragRef.current.style.transform = '';\n\n        // Determine Snap Side\n        const newSide = centerX < screenWidth / 2 ? 'left' : 'right';\n\n        // Determine Y position (clamped)\n        // Ensure it doesn't stick off top/bottom\n        let newY = finalRect.top;\n        newY = Math.max(10, Math.min(screenHeight - finalRect.height - 10, newY));\n\n        setPosition({ y: newY, side: newSide });\n    };\n\n    // Mouse Handlers\n    const onMouseDown = (e: React.MouseEvent) => {\n        handleStart(e.clientX, e.clientY);\n    };\n\n    // Touch Handlers\n    const onTouchStart = (e: React.TouchEvent) => {\n        handleStart(e.touches[0].clientX, e.touches[0].clientY);\n    };\n\n    // Global Listeners\n    useEffect(() => {\n        const onMouseMove = (e: MouseEvent) => handleMove(e.clientX, e.clientY);\n        const onMouseUp = () => isDragging && handleEnd();\n\n        const onTouchMove = (e: TouchEvent) => {\n            if(isDragging) e.preventDefault();\n            handleMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        const onTouchEnd = () => isDragging && handleEnd();\n\n        if (isDragging) {\n            window.addEventListener('mousemove', onMouseMove);\n            window.addEventListener('mouseup', onMouseUp);\n            window.addEventListener('touchmove', onTouchMove, { passive: false });\n            window.addEventListener('touchend', onTouchEnd);\n        }\n\n        return () => {\n            window.removeEventListener('mousemove', onMouseMove);\n            window.removeEventListener('mouseup', onMouseUp);\n            window.removeEventListener('touchmove', onTouchMove);\n            window.removeEventListener('touchend', onTouchEnd);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isDragging]);\n\n\n    const handleClose = () => {\n        localStorage.removeItem('nahan_force_perf_hud');\n        setIsVisible(false);\n    };\n\n    if (!isVisible) return null;\n\n    // Visual Thresholds\n    const isLagHigh = lag > 50;\n    const isMemoryHigh = memory > 250;\n    const isWorkerBusy = workerStats.activeTasks > 0 || workerStats.processingQueueLength > 0 || workerStats.storageQueueLength > 0;\n    const isHealthy = !isLagHigh && !isMemoryHigh;\n\n    const containerStyle: React.CSSProperties = {\n        position: 'fixed',\n         // When NOT dragging, we use the state position.\n         // When dragging, strict position remains, and transform moves it visually.\n        top: `${position.y}px`,\n        left: position.side === 'left' ? '0' : 'auto',\n        right: position.side === 'right' ? '0' : 'auto',\n\n        // Visuals\n        backgroundColor: isLagHigh ? 'rgba(80, 0, 0, 0.95)' : 'rgba(10, 10, 10, 0.90)',\n        color: '#e5e5e5',\n        padding: '12px',\n        fontSize: '11px',\n        fontFamily: 'Menlo, Monaco, Consolas, monospace',\n        zIndex: 9999,\n        minWidth: mode === 'compact' ? 'auto' : '220px',\n        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)',\n        border: '1px solid rgba(255, 255, 255, 0.1)',\n        backdropFilter: 'blur(12px)',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '8px',\n        // Important: During dragging, we disable transition so it follows mouse perfectly.\n        // After drag, we enable it for the snap effect.\n        transition: isDragging ? 'none' : 'all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)',\n\n        // Rounding logic for sides\n        borderTopRightRadius: position.side === 'left' ? '12px' : '0',\n        borderBottomRightRadius: position.side === 'left' ? '12px' : '0',\n        borderTopLeftRadius: position.side === 'right' ? '12px' : '0',\n        borderBottomLeftRadius: position.side === 'right' ? '12px' : '0',\n\n        // Prevent selection during drag\n        userSelect: 'none',\n        touchAction: 'none'\n    };\n\n    const headerStyle: React.CSSProperties = {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        borderBottom: mode === 'full' ? '1px solid rgba(255, 255, 255, 0.1)' : 'none',\n        paddingBottom: mode === 'full' ? '8px' : '0',\n        marginBottom: mode === 'full' ? '4px' : '0'\n    };\n\n    return (\n        <div\n            ref={dragRef}\n            data-testid={`perf-hud-${mode}`}\n            style={containerStyle}\n        >\n            {/* Header / Controls */}\n            <div style={headerStyle}>\n                {/* Drag Handle */}\n                <div\n                    onMouseDown={onMouseDown}\n                    onTouchStart={onTouchStart}\n                    style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '6px',\n                        cursor: isDragging ? 'grabbing' : 'grab',\n                        padding: '4px',\n                        flex: 1 // make header handle drag target\n                    }}\n                >\n                    <GripVertical size={14} color=\"#666\" />\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '6px', fontWeight: 'bold', color: '#fff' }}>\n                        <Activity size={14} className={isHealthy ? 'text-green-400' : 'text-red-400'} />\n                        {mode === 'full' && <span>PERF HUD</span>}\n                    </div>\n                </div>\n\n                <div style={{ display: 'flex', gap: '4px' }}>\n                    <button\n                        onClick={() => setMode(mode === 'full' ? 'compact' : 'full')}\n                        style={{ background: 'none', border: 'none', color: '#999', cursor: 'pointer', padding: '4px' }}\n                        title={mode === 'full' ? 'Compact' : 'Expand'}\n                    >\n                        {mode === 'full' ? <Minimize2 size={14} /> : <Maximize2 size={14} />}\n                    </button>\n                    <button\n                        onClick={handleClose}\n                        style={{ background: 'none', border: 'none', color: '#999', cursor: 'pointer', padding: '4px' }}\n                        title=\"Close\"\n                        data-testid=\"perf-hud-close\"\n                    >\n                        <X size={14} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Compact Mode Content */}\n            {mode === 'compact' && (\n                <div style={{ display: 'flex', gap: '12px', alignItems: 'center', fontSize: '12px', paddingLeft: '8px' }}>\n                    <div style={{ color: fps < 30 ? '#ef4444' : '#22c55e', fontWeight: 'bold' }}>\n                        {fps} FPS\n                    </div>\n                    <div style={{ color: isLagHigh ? '#ef4444' : '#22c55e' }}>\n                         Lag: {lag}ms\n                    </div>\n                </div>\n            )}\n\n            {/* Full Mode Content */}\n            {mode === 'full' && (\n                <>\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '4px 12px' }}>\n                        <div style={{ color: '#888' }}>FPS</div>\n                        <div style={{ color: fps < 30 ? '#ef4444' : '#22c55e', fontWeight: 'bold', textAlign: 'right' }}>\n                            {fps}\n                        </div>\n\n                        <div style={{ color: '#888' }}>Loop Lag</div>\n                        <div style={{ color: isLagHigh ? '#ef4444' : '#22c55e', textAlign: 'right' }}>\n                            {lag}ms\n                        </div>\n\n                        <div style={{ color: '#888' }}>JS Heap</div>\n                        <div style={{ color: isMemoryHigh ? '#ef4444' : '#22c55e', textAlign: 'right' }}>\n                            {memory > 0 ? `${memory} MB` : 'N/A'}\n                        </div>\n                    </div>\n\n                    <div style={{ marginTop: '4px', paddingTop: '8px', borderTop: '1px solid rgba(255, 255, 255, 0.1)' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '4px' }}>\n                            <span style={{ color: '#888' }}>WORKERS</span>\n                            <span style={{\n                                color: isWorkerBusy ? '#f59e0b' : '#22c55e',\n                                fontSize: '10px',\n                                padding: '2px 6px',\n                                borderRadius: '4px',\n                                background: isWorkerBusy ? 'rgba(245, 158, 11, 0.1)' : 'rgba(34, 197, 94, 0.1)'\n                            }}>\n                                {isWorkerBusy ? 'BUSY' : 'IDLE'}\n                            </span>\n                        </div>\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '4px 12px', fontSize: '10px' }}>\n                            <div style={{ color: '#666' }}>Active Tasks</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.activeTasks}</div>\n\n                            <div style={{ color: '#666' }}>Queue (Proc)</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.processingQueueLength}</div>\n\n                            <div style={{ color: '#666' }}>Queue (Stor)</div>\n                            <div style={{ textAlign: 'right' }}>{workerStats.storageQueueLength}</div>\n                        </div>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n"],"names":["__iconNode","GripVertical","createLucideIcon","Minimize2","PerfHUD","isVisible","setIsVisible","useState","navigator","webdriver","storedVisible","localStorage","getItem","useEffect","setItem","String","mode","setMode","position","setPosition","stored","JSON","parse","y","side","isDragging","setIsDragging","dragStart","useRef","x","initialRect","dragRef","lag","setLag","lastLoopTime","Date","now","fps","setFps","frames","lastFpsTime","workerStats","setWorkerStats","storageQueueLength","processingQueueLength","activeTasks","memory","setMemory","stringify","interval","setInterval","delta","current","currentLag","Math","max","clearInterval","pollInterval","workerService","getQueueStats","perf","performance","used","usedJSHeapSize","round","e","console","error","frameId","loop","requestAnimationFrame","cancelAnimationFrame","handleStart","clientX","clientY","getBoundingClientRect","handleMove","deltaX","deltaY","rect","windowWidth","window","innerWidth","windowHeight","innerHeight","minX","left","maxX","right","minY","top","maxY","bottom","clampedDeltaX","min","clampedDeltaY","style","transform","handleEnd","finalRect","screenWidth","screenHeight","centerX","width","newSide","newY","height","onMouseDown","onTouchStart","touches","onMouseMove","onMouseUp","onTouchMove","preventDefault","onTouchEnd","addEventListener","passive","removeEventListener","handleClose","removeItem","isLagHigh","isMemoryHigh","isWorkerBusy","isHealthy","containerStyle","backgroundColor","color","padding","fontSize","fontFamily","zIndex","minWidth","boxShadow","border","backdropFilter","display","flexDirection","gap","transition","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","userSelect","touchAction","headerStyle","alignItems","justifyContent","borderBottom","paddingBottom","marginBottom","jsxs","cursor","flex","jsx","fontWeight","Activity","background","Maximize2","X","paddingLeft","Fragment","gridTemplateColumns","textAlign","marginTop","paddingTop","borderTop","borderRadius"],"mappings":"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","x_google_ignoreList":[0,1]}